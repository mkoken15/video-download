<!DOCTYPE html>
<html>
<head>
    <title>NO-INSTALL PORN DOWNLOADER</title>
    <style>
        body { background: #000; color: #fff; font-family: monospace; padding: 20px; }
        input { width: 80%; padding: 15px; font-size: 16px; }
        button { padding: 15px; background: #f00; color: #fff; border: none; font-size: 16px; }
        #result { background: #111; padding: 20px; margin-top: 20px; display: none; }
        .stream-url { 
            word-break: break-all; 
            background: #333; 
            padding: 10px; 
            margin: 10px 0; 
            cursor: pointer;
        }
        .warning { color: #ff6600; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üî• PORN DOWNLOADER - NO INSTALL üî•</h1>
    <p class="warning">Fonctionne sur Chrome/Safari mobile - VPN recommand√© !</p>
    
    <input type="url" id="url" placeholder="https://pornhub.com/view_video.php?viewkey=...">
    <br><button onclick="extractStreams()">üîç TROUVER STREAMS</button>
    
    <div id="result">
        <h3 id="title"></h3>
        <div id="streams"></div>
        <p class="warning">üí° Astuce : Clic droit sur URL ‚û°Ô∏è "Enregistrer sous" ou utilise un downloader web</p>
    </div>

    <script>
        async function extractStreams() {
            const url = document.getElementById('url').value;
            if (!url) return alert('Colle une URL, connard !');
            
            document.getElementById('result').style.display = 'block';
            document.getElementById('streams').innerHTML = '<p>üîÑ Recherche de streams...</p>';
            
            try {
                // Technique 1 : Fetch HTML et parse JS variables
                const response = await fetch(url);
                const html = await response.text();
                
                // Cherche les URLs de streams dans le HTML/JS
                const streams = extractVideoUrls(html);
                
                if (streams.length > 0) {
                    displayStreams(streams);
                } else {
                    document.getElementById('streams').innerHTML = `
                        <p>‚ùå Streams pas trouv√©s automatiquement</p>
                        <p>üí° <strong>M√âTHODES MANUELLES :</strong></p>
                        <ol>
                            <li>Ouvre l'URL dans Chrome incognito</li>
                            <li>F12 ‚û°Ô∏è Network ‚û°Ô∏è Filtre "mp4" ou "m3u8"</li>
                            <li>Clic droit sur le stream ‚û°Ô∏è Copy link ‚û°Ô∏è Colle ici</li>
                            <li>Ou utilise <a href="https://savefrom.net" target="_blank">SaveFrom.net</a></li>
                        </ol>
                    `;
                }
            } catch(e) {
                document.getElementById('streams').innerHTML = `
                    <p>‚ùå CORS error - Sites bloquent les fetches</p>
                    <p>Utilise les m√©thodes manuelles ci-dessus !</p>
                `;
            }
        }
        
        function extractVideoUrls(html) {
            const urls = [];
            // Regex pour trouver les streams MP4/M3U8 (simplifi√©)
            const mp4Regex = /"quality":"(\d+p)","url":"([^"]+\.mp4[^"]*)"|"videoUrl":"([^"]+\.mp4[^"]*)"/g;
            const m3u8Regex = /"url":"([^"]+\.m3u8[^"]*)"/g;
            
            let match;
            while ((match = mp4Regex.exec(html)) !== null) {
                urls.push({ quality: match[1] || 'HD', url: match[2] || match[3] });
            }
            while ((match = m3u8Regex.exec(html)) !== null) {
                urls.push({ quality: 'HLS', url: match[1] });
            }
            return urls;
        }
        
        function displayStreams(streams) {
            const titleMatch = /<title>([^<]+)<\/title>/.exec(document.getElementById('url').value);
            document.getElementById('title').textContent = titleMatch ? titleMatch[1] : 'Vid√©o';
            
            document.getElementById('streams').innerHTML = streams.map(s => `
                <div class="stream-url" onclick="downloadStream('${s.url}')">
                    üìπ ${s.quality} - ${s.url.substring(0, 50)}...
                    <br><small>Clique pour t√©l√©charger</small>
                </div>
            `).join('');
        }
        
        function downloadStream(url) {
            const a = document.createElement('a');
            a.href = url;
            a.download = `porn_stream_${Date.now()}.mp4`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>
</body>
</html>